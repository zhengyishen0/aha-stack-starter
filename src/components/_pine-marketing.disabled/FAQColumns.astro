---
/**
 * FAQColumns Component
 * 
 * A two-column FAQ layout optimized for displaying many questions efficiently.
 * Perfect for comprehensive FAQ sections with minimal visual clutter.
 * 
 * Features:
 * - Responsive two-column grid layout (stacks on mobile)
 * - Clean typography with semantic heading hierarchy
 * - Support for rich text content including links
 * - Automatic question distribution across columns
 * - TypeScript support with comprehensive prop types
 * 
 * Usage:
 * ```astro
 * <FAQColumns
 *   title="Frequently Asked Questions"
 *   faqs={[
 *     {
 *       question: "What is Tails",
 *       answer: "Tails is a drag and drop page builder built on Top of TailwindCSS. You can drop components to create a page that you can export."
 *     },
 *     {
 *       question: "Can I try it for Free?",
 *       answer: "Absolutely, you can try out tails for free; however, if you wish to access all the components and export the page you'll need to upgrade your account."
 *     },
 *     {
 *       question: "Where do I go to upgrade my account?",
 *       answer: 'You can upgrade your account by visiting <a href="https://devdojo.com/pro" class="text-indigo-500 underline">The Pro Upgrade Page</a>. You will also gain access to many other applications.'
 *     }
 *   ]}
 *   primaryColor="indigo-500"
 * />
 * ```
 */

export interface FAQColumnItem {
  question: string;
  answer: string;
}

export interface Props {
  title?: string;
  faqs: FAQColumnItem[];
  primaryColor?: string;
  className?: string;
  questionsPerColumn?: number;
}

const {
  title = "Frequently Asked Questions",
  faqs,
  primaryColor = "indigo-500",
  className = "",
  questionsPerColumn
} = Astro.props;

// Generate color classes
const linkColorClass = `text-${primaryColor}`;

// Split FAQs into two columns
const midpoint = questionsPerColumn || Math.ceil(faqs.length / 2);
const leftColumnFAQs = faqs.slice(0, midpoint);
const rightColumnFAQs = faqs.slice(midpoint);
---

<section class={`py-24 bg-white ${className}`}>
  <div class="px-8 mx-auto max-w-7xl lg:px-16">
    <!-- Header -->
    <h2 class="mb-4 text-xl font-bold md:text-3xl">
      {title}
    </h2>

    <!-- Two Column Grid -->
    <div class="grid grid-cols-1 gap-0 text-gray-600 md:grid-cols-2 md:gap-16">
      <!-- Left Column -->
      <div>
        {leftColumnFAQs.map((faq) => (
          <>
            <h5 class="mt-10 mb-3 font-semibold text-gray-900">
              {faq.question}
            </h5>
            <p set:html={faq.answer.replace(/class="text-indigo-500 underline"/g, `class="${linkColorClass} underline"`)} />
          </>
        ))}
      </div>

      <!-- Right Column -->
      <div>
        {rightColumnFAQs.map((faq) => (
          <>
            <h5 class="mt-10 mb-3 font-semibold text-gray-900">
              {faq.question}
            </h5>
            <p set:html={faq.answer.replace(/class="text-indigo-500 underline"/g, `class="${linkColorClass} underline"`)} />
          </>
        ))}
      </div>
    </div>
  </div>
</section>