---
import { cn } from '@/lib/utils';
import { createUIComponent, type UIComponentProps, type VariantProps } from '@/lib/component-variants';

const accordionItemVariants = createUIComponent(
  'duration-200 ease-out bg-background border border-border rounded-md cursor-pointer group mb-2',
  {
    variant: {
      default: 'bg-background border-border',
      elevated: 'bg-background border-border shadow-elevated',
      flat: 'bg-background border-border shadow-flat'
    }
  }
);

export interface Props extends UIComponentProps, VariantProps<typeof accordionItemVariants> {
  value?: string;
  variant?: 'default' | 'elevated' | 'flat';
}

const {
  value,
  size,
  padding = 'none',
  elevation,
  variant = 'default',
  class: className,
  ...alpineProps
} = Astro.props;
---

<div 
  x-data="{ id: $id('accordion') }"
  {...alpineProps}
  :class={`"${cn(
    accordionItemVariants({ size, padding, elevation, variant }),
    className
  )}"`}
  x-cloak
>
  <slot />
</div>