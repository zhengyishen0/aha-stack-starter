---
import { cn } from '@/lib/utils';

export interface Props {
  // Layout
  gap?: '1' | '2' | '3' | '4' | '6';
  
  // Sizing
  maxHeight?: 'none' | '32' | '48' | '64' | '96' | 'screen';
  
  // Visual styling
  padding?: '2' | '3' | '4' | '6';
  divided?: boolean; // Add divider lines between items
  
  class?: string;
  [key: string]: any; // Alpine.js pass-through
}

const {
  gap = '1',
  maxHeight = 'none',
  padding = '0',
  divided = false,
  class: className = '',
  ...rest
} = Astro.props;

const classes = cn(
  // Base list layout
  'flex flex-col',
  
  // Scrolling behavior
  'overflow-y-auto',
  'flex-1',
  'min-h-0', // Important for flex scroll
  
  // Spacing
  `gap-${gap}`,
  padding !== '0' && `p-${padding}`,
  
  // Max height constraints
  maxHeight === '32' && 'max-h-32',
  maxHeight === '48' && 'max-h-48',
  maxHeight === '64' && 'max-h-64', 
  maxHeight === '96' && 'max-h-96',
  maxHeight === 'screen' && 'max-h-screen',
  
  // Dividers
  divided && 'divide-y divide-gray-200',
  
  className
);
---


<div class={classes} {...rest}>
  {rest['x-for'] ? (
    <template x-for={rest['x-for']} :key={rest['x-key']}>
      <slot />
    </template>
  ) : (
    <slot />
  )}
</div>