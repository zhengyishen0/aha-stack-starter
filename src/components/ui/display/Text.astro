---
import { cn } from '@/lib/utils';

export interface Props {
  state?: 'active' | 'completed' | 'pending' | 'disabled';
  as?: 'span' | 'div' | 'p' | 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6' | 'strong' | 'em' | 'small';
  size?: 'xs' | 'sm' | 'base' | 'lg' | 'xl';
  weight?: 'normal' | 'medium' | 'semibold' | 'bold';
  class?: string;
  [key: string]: any; // Alpine.js pass-through
}

const { 
  state = 'active',
  as: Element = 'span',
  size = 'base',
  weight = 'normal',
  class: className = '',
  ...rest
} = Astro.props;

const classes = cn(
  // Base text styling
  'leading-normal',
  
  // Size variants
  size === 'xs' && 'text-xs',
  size === 'sm' && 'text-sm', 
  size === 'base' && 'text-base',
  size === 'lg' && 'text-lg',
  size === 'xl' && 'text-xl',
  
  // Weight variants
  weight === 'normal' && 'font-normal',
  weight === 'medium' && 'font-medium',
  weight === 'semibold' && 'font-semibold',
  weight === 'bold' && 'font-bold',
  
  // State variants
  state === 'active' && 'text-gray-900 font-medium',
  state === 'completed' && 'text-gray-500 line-through',
  state === 'pending' && 'text-gray-500 italic',
  state === 'disabled' && 'text-gray-400 opacity-60',
  
  className
);
---

<Element class={classes} {...rest}>
  <slot />
</Element>