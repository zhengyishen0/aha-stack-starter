---
import { cn } from '@/lib/utils';
import { createUIComponent, type UIComponentProps, type VariantProps } from '@/lib/component-variants';

const accordionContentVariants = createUIComponent(
  'pt-0 text-muted-foreground',
  {
    variant: {
      default: 'text-muted-foreground',
      emphasized: 'text-foreground'
    }
  }
);

export interface Props extends UIComponentProps, VariantProps<typeof accordionContentVariants> {
  text?: string;
  variant?: 'default' | 'emphasized';
}

const {
  size,
  padding = 'lg',
  elevation,
  variant = 'default',
  text,
  class: className,
  ...alpineProps
} = Astro.props;
---

<div 
  x-show="activeAccordion==id" 
  x-collapse 
  x-cloak
  {...alpineProps}
>
  <div 
    :class={`"${cn(accordionContentVariants({ size, padding, elevation, variant }), className)}"`}
  >
    {text ? (
      <span x-text={text}></span>
    ) : (
      <slot />
    )}
  </div>
</div>