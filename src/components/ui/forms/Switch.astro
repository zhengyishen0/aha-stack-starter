---
export interface Props {
  id: string;
  name?: string;
  checked?: boolean;
  disabled?: boolean;
  label?: string;
  description?: string;
  class?: string;
}

const { 
  id,
  name = id,
  checked = false,
  disabled = false,
  label,
  description,
  class: className = ""
} = Astro.props;
---

<!-- 
TRUE Design System Switch Component

Usage:
<Switch 
  id="notifications" 
  label="Email notifications" 
  description="Receive email updates about your account activity"
  checked={true}
/>

<Switch 
  id="disabled-switch" 
  label="Disabled switch" 
  disabled={true}
/>

States: default, disabled
-->

<div 
  x-data={`{ switchOn: ${checked} }`}
  class={`switch-wrapper ${className}`}
>
  <input 
    type="checkbox" 
    :checked="switchOn" 
    id={id}
    name={name}
    disabled={disabled}
    class="switch"
    data-state={disabled ? 'disabled' : null}
    @change="switchOn = !switchOn"
  />
  
  {(label || description) && (
    <div class="switch-content">
      {label && (
        <label 
          for={id} 
          class={`switch-label ${disabled ? 'disabled' : ''}`}
        >
          {label}
        </label>
      )}
      {description && (
        <p class={`switch-description ${disabled ? 'disabled' : ''}`}>
          {description}
        </p>
      )}
    </div>
  )}
</div>