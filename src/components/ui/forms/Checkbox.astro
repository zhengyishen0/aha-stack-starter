---
// Import component styles
import '/src/styles/components/checkbox.css';

export interface Props {
  id?: string;
  name?: string;
  checked?: boolean;
  disabled?: boolean;
  label?: string;
  description?: string;
  class?: string;
  labelClass?: string;
  [key: string]: any; // Allow any Alpine.js attributes
}

const { 
  id,
  name = id,
  checked = false,
  disabled = false,
  label,
  description,
  class: className = "",
  labelClass = "",
  ...rest
} = Astro.props;
---

<!-- 
TRUE Design System Checkbox Component

Usage:
<Checkbox 
  id="checkbox-1" 
  label="Accept terms and conditions" 
  description="You agree to our Terms of Service and Privacy Policy."
/>

<Checkbox 
  id="disabled-checkbox" 
  label="Disabled checkbox" 
  disabled={true}
/>

States: default, disabled
-->

<div class={`checkbox-wrapper ${className}`}>
  <input 
    id={id}
    name={name}
    type="checkbox" 
    checked={!rest[':checked'] ? checked : undefined}
    disabled={!rest[':disabled'] ? disabled : undefined}
    class="checkbox"
    data-state={disabled ? 'disabled' : null}
    {...rest}
  />
  {(label || description) && (
    <div class="checkbox-content">
      {label && (
        <label for={id} class={`checkbox-label ${labelClass} ${disabled ? 'disabled' : ''}`}>
          {label}
        </label>
      )}
      {description && (
        <p class={`checkbox-description ${disabled ? 'disabled' : ''}`}>
          {description}
        </p>
      )}
    </div>
  )}
</div>