---
import Layout from '../layouts/Layout.astro';
import TextInput from '../components/pine/TextInput.astro';
import Textarea from '../components/pine/Textarea.astro';
import Select from '../components/pine/Select.astro';
import Checkbox from '../components/pine/Checkbox.astro';
import Switch from '../components/pine/Switch.astro';
import RangeSlider from '../components/pine/RangeSlider.astro';
import RadioGroup from '../components/pine/RadioGroup.astro';
import Button from '../components/pine/Button.astro';

const selectOptions = [
  { value: 'option1', label: 'Option 1' },
  { value: 'option2', label: 'Option 2' },
  { value: 'option3', label: 'Option 3' },
  { value: 'option4', label: 'Option 4 (Disabled)', disabled: true }
];

const radioOptions = [
  { value: 'basic', title: 'Basic Plan', description: 'Perfect for small teams' },
  { value: 'pro', title: 'Pro Plan', description: 'Best for growing businesses' },
  { value: 'enterprise', title: 'Enterprise Plan', description: 'For large organizations' }
];
---

<Layout title="Form Components Test">
  <main class="container">
    <div class="stack-lg">
      <h1>Form Components Test</h1>
      
      <!-- TextInput Component Tests -->
      <section class="stack">
        <h2>TextInput Component</h2>
        <div class="stack">
          <h3>Basic Text Inputs</h3>
          <div class="stack">
            <TextInput 
              type="text"
              label="Full Name"
              placeholder="Enter your full name"
              description="This will be used for your profile"
              name="fullname"
              id="fullname"
            />
            
            <TextInput 
              type="email"
              label="Email Address"
              placeholder="Enter your email"
              required={true}
              name="email"
              id="email"
            />
            
            <TextInput 
              type="password"
              label="Password"
              placeholder="Enter your password"
              name="password"
              id="password"
            />
          </div>
          
          <h3>Input Sizes</h3>
          <div class="stack">
            <TextInput 
              label="Small Input" 
              size="sm" 
              placeholder="Small size"
            />
            <TextInput 
              label="Medium Input (Default)" 
              size="md" 
              placeholder="Medium size"
            />
            <TextInput 
              label="Large Input" 
              size="lg" 
              placeholder="Large size"
            />
          </div>
          
          <h3>Input Variants</h3>
          <div class="stack">
            <TextInput 
              label="Default Variant" 
              variant="default" 
              placeholder="Default style"
            />
            <TextInput 
              label="Filled Variant" 
              variant="filled" 
              placeholder="Filled style"
            />
            <TextInput 
              label="Underlined Variant" 
              variant="underlined" 
              placeholder="Underlined style"
            />
          </div>
          
          <h3>Input States</h3>
          <div class="stack">
            <TextInput 
              label="Error State" 
              placeholder="This input has an error"
              error="This field is required"
            />
            <TextInput 
              label="Disabled State" 
              placeholder="This input is disabled"
              disabled={true}
            />
            <TextInput 
              label="Readonly State" 
              placeholder="This input is readonly"
              readonly={true}
              value="Read-only value"
            />
          </div>
        </div>
      </section>

      <!-- Textarea Component Tests -->
      <section class="stack">
        <h2>Textarea Component</h2>
        <div class="stack">
          <h3>Basic Textarea</h3>
          <Textarea 
            label="Message"
            placeholder="Enter your message here..."
            description="Please provide as much detail as possible"
            rows={4}
            name="message"
            id="message"
          />
          
          <h3>Textarea Variants</h3>
          <div class="stack">
            <Textarea 
              label="Default Textarea" 
              variant="default" 
              placeholder="Default style"
              rows={3}
            />
            <Textarea 
              label="Filled Textarea" 
              variant="filled" 
              placeholder="Filled style"
              rows={3}
            />
            <Textarea 
              label="Underlined Textarea" 
              variant="underlined" 
              placeholder="Underlined style"
              rows={3}
            />
          </div>
          
          <h3>Textarea States</h3>
          <div class="stack">
            <Textarea 
              label="Error State" 
              placeholder="This textarea has an error"
              error="Message must be at least 10 characters"
              rows={3}
            />
            <Textarea 
              label="Disabled State" 
              placeholder="This textarea is disabled"
              disabled={true}
              rows={3}
            />
          </div>
        </div>
      </section>

      <!-- Select Component Tests -->
      <section class="stack">
        <h2>Select Component</h2>
        <div class="stack">
          <h3>Basic Select</h3>
          <Select 
            options={selectOptions}
            placeholder="Choose an option..."
            name="basicSelect"
            id="basicSelect"
          />
          
          <h3>Searchable Select</h3>
          <Select 
            options={selectOptions}
            placeholder="Search options..."
            searchable={true}
            name="searchableSelect"
            id="searchableSelect"
          />
          
          <h3>Pre-selected Value</h3>
          <Select 
            options={selectOptions}
            selectedValue="option2"
            name="preSelectedSelect"
            id="preSelectedSelect"
          />
          
          <h3>Disabled Select</h3>
          <Select 
            options={selectOptions}
            placeholder="This select is disabled"
            disabled={true}
            name="disabledSelect"
            id="disabledSelect"
          />
        </div>
      </section>

      <!-- Checkbox Component Tests -->
      <section class="stack">
        <h2>Checkbox Component</h2>
        <div class="stack">
          <h3>Default Checkboxes</h3>
          <div class="stack">
            <Checkbox 
              id="checkbox1"
              label="Accept terms and conditions"
              description="You agree to our Terms of Service and Privacy Policy."
            />
            <Checkbox 
              id="checkbox2"
              label="Subscribe to newsletter"
              checked={true}
            />
            <Checkbox 
              id="checkbox3"
              label="Disabled checkbox"
              disabled={true}
            />
          </div>
          
          <h3>Checkbox Sizes</h3>
          <div class="stack">
            <Checkbox 
              id="checkbox-sm"
              label="Small checkbox"
              size="sm"
            />
            <Checkbox 
              id="checkbox-md"
              label="Medium checkbox (default)"
              size="md"
            />
            <Checkbox 
              id="checkbox-lg"
              label="Large checkbox"
              size="lg"
            />
          </div>
          
          <h3>Custom Variant</h3>
          <div class="stack">
            <Checkbox 
              id="checkbox-custom1"
              label="Custom styled checkbox"
              description="This uses the custom variant"
              variant="custom"
            />
            <Checkbox 
              id="checkbox-custom2"
              label="Custom checkbox checked"
              variant="custom"
              checked={true}
            />
          </div>
        </div>
      </section>

      <!-- Switch Component Tests -->
      <section class="stack">
        <h2>Switch Component</h2>
        <div class="stack">
          <h3>Basic Switches</h3>
          <div class="stack">
            <Switch 
              id="switch1"
              label="Email notifications"
              description="Receive email updates about your account activity"
            />
            <Switch 
              id="switch2"
              label="Dark mode"
              checked={true}
            />
            <Switch 
              id="switch3"
              label="Disabled switch"
              disabled={true}
            />
          </div>
          
          <h3>Switch Sizes</h3>
          <div class="stack">
            <Switch 
              id="switch-sm"
              label="Small switch"
              size="sm"
            />
            <Switch 
              id="switch-md"
              label="Medium switch (default)"
              size="md"
            />
            <Switch 
              id="switch-lg"
              label="Large switch"
              size="lg"
            />
          </div>
        </div>
      </section>

      <!-- RangeSlider Component Tests -->
      <section class="stack">
        <h2>RangeSlider Component</h2>
        <div class="stack">
          <h3>Basic Range Slider</h3>
          <RangeSlider 
            min={0}
            max={100}
            value={50}
            name="basicRange"
            id="basicRange"
          />
          
          <h3>Custom Range</h3>
          <RangeSlider 
            min={10}
            max={200}
            step={5}
            value={75}
            name="customRange"
            id="customRange"
          />
          
          <h3>Range Slider Sizes</h3>
          <div class="stack">
            <RangeSlider 
              min={0}
              max={100}
              value={25}
              size="sm"
              name="rangeSliderSm"
            />
            <RangeSlider 
              min={0}
              max={100}
              value={50}
              size="md"
              name="rangeSliderMd"
            />
            <RangeSlider 
              min={0}
              max={100}
              value={75}
              size="lg"
              name="rangeSliderLg"
            />
          </div>
          
          <h3>Disabled Range Slider</h3>
          <RangeSlider 
            min={0}
            max={100}
            value={60}
            disabled={true}
            name="disabledRange"
          />
          
          <h3>Without Value Display</h3>
          <RangeSlider 
            min={0}
            max={100}
            value={80}
            showValue={false}
            name="noValueRange"
          />
        </div>
      </section>

      <!-- RadioGroup Component Tests -->
      <section class="stack">
        <h2>RadioGroup Component</h2>
        <div class="stack">
          <h3>Basic Radio Group</h3>
          <RadioGroup 
            name="plan"
            options={radioOptions}
            selectedValue="basic"
          />
          
          <h3>Radio Group Sizes</h3>
          <div class="stack">
            <h4>Small</h4>
            <RadioGroup 
              name="planSm"
              options={radioOptions}
              size="sm"
            />
            
            <h4>Medium (Default)</h4>
            <RadioGroup 
              name="planMd"
              options={radioOptions}
              size="md"
            />
            
            <h4>Large</h4>
            <RadioGroup 
              name="planLg"
              options={radioOptions}
              size="lg"
            />
          </div>
        </div>
      </section>

      <!-- Form Integration Test -->
      <section class="stack">
        <h2>Complete Form Test</h2>
        <div class="card card-default card-padding-md">
          <form 
            x-data="{
              formData: {
                name: '',
                email: '',
                plan: 'basic',
                notifications: false,
                volume: 50
              },
              submitForm() {
                console.log('Form submitted:', this.formData);
                alert('Form submitted! Check console for data.');
              }
            }"
            @submit.prevent="submitForm()"
            class="stack"
          >
            <h3>Registration Form</h3>
            
            <TextInput 
              type="text"
              label="Full Name"
              placeholder="Enter your full name"
              required={true}
              name="name"
              id="form-name"
            />
            
            <TextInput 
              type="email"
              label="Email"
              placeholder="Enter your email"
              required={true}
              name="email"
              id="form-email"
            />
            
            <RadioGroup 
              name="form-plan"
              options={radioOptions}
              selectedValue="basic"
            />
            
            <Switch 
              id="form-notifications"
              label="Email notifications"
              description="Receive updates about your account"
              name="notifications"
            />
            
            <RangeSlider 
              min={0}
              max={100}
              value={50}
              name="volume"
              id="form-volume"
            />
            
            <Checkbox 
              id="form-terms"
              label="I accept the terms and conditions"
              required={true}
              variant="custom"
            />
            
            <div class="cluster">
              <Button variant="solid" color="blue" type="submit">
                Submit Form
              </Button>
              <Button variant="outline" color="neutral" type="reset">
                Reset
              </Button>
            </div>
          </form>
        </div>
      </section>
    </div>
  </main>

  <script>
    // Test form component functionality
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Form components test page loaded');
      
      // Add some test logging for Alpine.js components
      window.addEventListener('alpine:init', () => {
        console.log('Alpine.js initialized');
      });
    });
  </script>

  <style>
    /* Custom styles for form test page */
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--space-6);
    }
    
    /* Test styles for visual verification */
    .stack > * + * {
      margin-top: var(--space-4);
    }
    
    .stack-lg > * + * {
      margin-top: var(--space-6);
    }
    
    .cluster {
      display: flex;
      gap: var(--space-3);
      align-items: center;
      flex-wrap: wrap;
    }
  </style>
</Layout>