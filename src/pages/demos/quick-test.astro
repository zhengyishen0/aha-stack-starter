---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/pine/Button.astro';
import Badge from '../../components/pine/Badge.astro';
import Alert from '../../components/pine/Alert.astro';
import Card from '../../components/pine/Card.astro';
import TextInput from '../../components/pine/TextInput.astro';
import Switch from '../../components/pine/Switch.astro';
import Checkbox from '../../components/pine/Checkbox.astro';
import Select from '../../components/pine/Select.astro';
import Progress from '../../components/pine/Progress.astro';
import Rating from '../../components/pine/Rating.astro';
---

<Layout title="Quick Pine Components Test">
  <main class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold mb-4">Quick Pine Components Test</h1>
      <p class="text-gray-600 mb-6">Testing core components for basic functionality</p>
      <Button href="/test" variant="outline" color="neutral">← Back to Test Suite</Button>
    </div>

    <div class="space-y-6">
      <!-- Basic Components Test -->
      <Card>
        <div class="p-6">
          <h2 class="text-xl font-bold mb-4">Basic Components</h2>
          <div class="space-y-4">
            <div class="flex gap-2">
              <Button variant="solid" color="blue">Button Test</Button>
              <Badge color="green">Working</Badge>
              <Badge color="red">Error</Badge>
            </div>
            <Alert variant="blue" title="Test Alert">This is a test alert message.</Alert>
          </div>
        </div>
      </Card>

      <!-- Form Components Test -->
      <Card>
        <div class="p-6">
          <h2 class="text-xl font-bold mb-4">Form Components</h2>
          <div class="space-y-4 max-w-md">
            <TextInput label="Test Input" placeholder="Type here..." />
            <Select 
              label="Test Select"
              options={[
                { value: "1", label: "Option 1" },
                { value: "2", label: "Option 2" }
              ]}
            />
            <div class="flex items-center gap-4">
              <Checkbox label="Test Checkbox" />
              <Switch label="Test Switch" />
            </div>
            <Progress value={60} max={100} />
            <Rating value={4} max={5} />
          </div>
        </div>
      </Card>

      <!-- Alpine.js Interactivity Test -->
      <Card>
        <div class="p-6">
          <h2 class="text-xl font-bold mb-4">Alpine.js Test</h2>
          <div x-data="{ count: 0, switchOn: false }">
            <div class="space-y-4">
              <p>Counter: <span x-text="count" class="font-bold"></span></p>
              <div class="flex gap-2">
                <Button variant="solid" color="green" x-on:click="count++">Increment</Button>
                <Button variant="outline" color="red" x-on:click="count--">Decrement</Button>
              </div>
              <div class="flex items-center gap-2">
                <Switch x-model="switchOn" />
                <span x-text="switchOn ? 'ON' : 'OFF'" class="font-medium"></span>
              </div>
            </div>
          </div>
        </div>
      </Card>

      <!-- Status -->
      <Card>
        <div class="p-6 text-center">
          <h2 class="text-xl font-bold mb-4">Test Status</h2>
          <div id="test-status" class="text-lg font-medium">
            <span class="text-green-600">✓ All components loaded successfully!</span>
          </div>
        </div>
      </Card>
    </div>
  </main>

  <script>
    // Simple test to check if Alpine.js is working
    document.addEventListener('alpine:init', () => {
      console.log('Alpine.js initialized successfully!');
    });

    // Check if components rendered
    window.addEventListener('load', () => {
      const statusEl = document.getElementById('test-status');
      const components = document.querySelectorAll('[x-data]');
      
      if (components.length > 0) {
        statusEl.innerHTML = '<span class="text-green-600">✓ All components and Alpine.js working!</span>';
      } else {
        statusEl.innerHTML = '<span class="text-red-600">⚠ Alpine.js may not be working properly</span>';
      }
    });
  </script>
</Layout>