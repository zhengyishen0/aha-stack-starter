---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/pine/Card.astro';
import Button from '../../components/pine/Button.astro';
import Badge from '../../components/pine/Badge.astro';
import TypingEffect from '../../components/pine/TypingEffect.astro';
---

<Layout title="TypingEffect Component Test">
  <main class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold mb-4">TypingEffect Component Test</h1>
      <div class="flex justify-center gap-2 mb-6">
        <Button href="/test" variant="outline" color="neutral">← Back to Test Suite</Button>
        <Button href="/test/all" variant="ghost" color="neutral">View All</Button>
      </div>
    </div>

    <!-- Basic Examples -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Basic Examples</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Simple Text Cycling</h3>
            <div class="p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg text-center">
              <div class="text-2xl font-bold text-blue-900">
                Welcome to <TypingEffect texts={["Pine UI", "Alpine.js", "Modern Web"]} class="text-blue-600" />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Multiple Phrases</h3>
            <div class="p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg text-center">
              <div class="text-xl font-semibold text-green-900">
                I am <TypingEffect 
                  texts={["a developer", "creative", "passionate", "building something amazing"]} 
                  class="text-green-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Technology Stack</h3>
            <div class="p-6 bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg text-center">
              <div class="text-xl font-semibold text-purple-900">
                Built with <TypingEffect 
                  texts={["Astro", "Alpine.js", "Tailwind CSS", "Pine UI Components"]} 
                  class="text-purple-600 font-mono"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Speed Variations -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Speed Variations</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Fast Typing (50ms)</h3>
            <div class="p-6 bg-red-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-red-900">
                <TypingEffect 
                  texts={["Lightning fast!", "Super quick!", "Blazing speed!"]} 
                  typeSpeed={50}
                  deleteSpeed={25}
                  class="text-red-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Normal Typing (100ms)</h3>
            <div class="p-6 bg-blue-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-blue-900">
                <TypingEffect 
                  texts={["Comfortable pace", "Just right", "Natural rhythm"]} 
                  typeSpeed={100}
                  deleteSpeed={50}
                  class="text-blue-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Slow Typing (200ms)</h3>
            <div class="p-6 bg-green-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-green-900">
                <TypingEffect 
                  texts={["Thoughtful typing", "Deliberate pace", "Easy to follow"]} 
                  typeSpeed={200}
                  deleteSpeed={100}
                  class="text-green-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Very Slow (300ms)</h3>
            <div class="p-6 bg-purple-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-purple-900">
                <TypingEffect 
                  texts={["Dramatic effect", "Suspenseful", "Character by character"]} 
                  typeSpeed={300}
                  deleteSpeed={150}
                  class="text-purple-600"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Pause Timing -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Pause Timing</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Quick Pause (1s)</h3>
            <div class="p-6 bg-yellow-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-yellow-900">
                <TypingEffect 
                  texts={["Quick switch", "Fast cycle", "Rapid change"]} 
                  pauseEnd={1000}
                  class="text-yellow-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Normal Pause (2s)</h3>
            <div class="p-6 bg-indigo-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-indigo-900">
                <TypingEffect 
                  texts={["Standard timing", "Balanced pause", "Just right"]} 
                  pauseEnd={2000}
                  class="text-indigo-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Long Pause (4s)</h3>
            <div class="p-6 bg-pink-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-pink-900">
                <TypingEffect 
                  texts={["Time to read", "Thoughtful pause", "Extended display"]} 
                  pauseEnd={4000}
                  class="text-pink-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Very Long Pause (6s)</h3>
            <div class="p-6 bg-teal-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-teal-900">
                <TypingEffect 
                  texts={["Plenty of time", "Extended reading", "Dramatic pause"]} 
                  pauseEnd={6000}
                  class="text-teal-600"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Custom Cursors -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Custom Cursors</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Default Cursor (|)</h3>
            <div class="p-6 bg-gray-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-gray-900">
                <TypingEffect 
                  texts={["Standard cursor", "Classic look", "Default style"]} 
                  cursorChar="|"
                  class="text-gray-700"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Underscore Cursor (_)</h3>
            <div class="p-6 bg-blue-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-blue-900">
                <TypingEffect 
                  texts={["Underscore style", "Retro terminal", "Classic computing"]} 
                  cursorChar="_"
                  class="text-blue-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Block Cursor (█)</h3>
            <div class="p-6 bg-green-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-green-900">
                <TypingEffect 
                  texts={["Solid block", "Bold cursor", "Strong presence"]} 
                  cursorChar="█"
                  class="text-green-600"
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Arrow Cursor (►)</h3>
            <div class="p-6 bg-purple-50 rounded-lg text-center">
              <div class="text-lg font-semibold text-purple-900">
                <TypingEffect 
                  texts={["Arrow pointer", "Direction indicator", "Modern style"]} 
                  cursorChar="►"
                  class="text-purple-600"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Different Content Types -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Different Content Types</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Programming Languages</h3>
            <div class="p-6 bg-gray-900 rounded-lg text-center">
              <div class="text-xl font-mono text-white">
                const framework = "<TypingEffect 
                  texts={["React", "Vue.js", "Alpine.js", "Svelte", "Angular"]} 
                  class="text-green-400"
                  typeSpeed={80}
                />";
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Job Titles</h3>
            <div class="p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg text-center">
              <div class="text-xl font-semibold text-white">
                I'm a <TypingEffect 
                  texts={[
                    "Frontend Developer", 
                    "UI/UX Designer", 
                    "Full Stack Engineer", 
                    "JavaScript Developer",
                    "Creative Technologist"
                  ]} 
                  class="text-yellow-300"
                  typeSpeed={120}
                  pauseEnd={3000}
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Product Features</h3>
            <div class="p-6 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg text-center">
              <div class="text-lg font-semibold text-white">
                Our app is <TypingEffect 
                  texts={[
                    "lightning fast ⚡", 
                    "beautifully designed 🎨", 
                    "incredibly secure 🔒", 
                    "user-friendly 😊",
                    "mobile-optimized 📱"
                  ]} 
                  class="text-cyan-300"
                  typeSpeed={100}
                  pauseEnd={2500}
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Call-to-Action Messages</h3>
            <div class="p-6 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg text-center">
              <div class="text-xl font-bold text-white">
                <TypingEffect 
                  texts={[
                    "Get Started Today!", 
                    "Join Thousands of Users!", 
                    "Try It Free for 30 Days!", 
                    "Transform Your Workflow!",
                    "Boost Your Productivity!"
                  ]} 
                  class="text-yellow-200"
                  typeSpeed={90}
                  pauseEnd={3500}
                />
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Numbers and Statistics</h3>
            <div class="p-6 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg text-center">
              <div class="text-lg font-semibold text-white">
                We've served <TypingEffect 
                  texts={[
                    "1,000+ customers", 
                    "50,000+ downloads", 
                    "99.9% uptime", 
                    "24/7 support",
                    "5-star ratings ⭐"
                  ]} 
                  class="text-green-300 font-mono"
                  typeSpeed={60}
                  pauseEnd={2000}
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Interactive Controls -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Interactive Controls</h2>
        <div x-data="{ 
          texts: ['Customizable', 'Interactive', 'Dynamic'],
          typeSpeed: 100,
          deleteSpeed: 50,
          pauseEnd: 2000,
          pauseStart: 20,
          cursorChar: '|',
          key: 0
        }">
          <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6">
            <div>
              <label class="block text-sm font-medium mb-2">Type Speed (ms)</label>
              <input 
                x-model.number="typeSpeed" 
                type="number" 
                min="10" 
                max="500" 
                step="10"
                class="w-full px-3 py-2 border rounded-lg"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Delete Speed (ms)</label>
              <input 
                x-model.number="deleteSpeed" 
                type="number" 
                min="10" 
                max="500" 
                step="10"
                class="w-full px-3 py-2 border rounded-lg"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">End Pause (ms)</label>
              <input 
                x-model.number="pauseEnd" 
                type="number" 
                min="500" 
                max="10000" 
                step="500"
                class="w-full px-3 py-2 border rounded-lg"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Start Pause (ms)</label>
              <input 
                x-model.number="pauseStart" 
                type="number" 
                min="0" 
                max="1000" 
                step="10"
                class="w-full px-3 py-2 border rounded-lg"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Cursor Char</label>
              <select x-model="cursorChar" class="w-full px-3 py-2 border rounded-lg">
                <option value="|">| (pipe)</option>
                <option value="_">_ (underscore)</option>
                <option value="█">█ (block)</option>
                <option value="►">► (arrow)</option>
                <option value="●">● (circle)</option>
                <option value="▌">▌ (half block)</option>
              </select>
            </div>
            <div class="flex items-end">
              <Button 
                variant="solid" 
                color="blue"
                x-on:click="key++"
                class="w-full"
              >
                Restart
              </Button>
            </div>
          </div>

          <div class="mb-4">
            <label class="block text-sm font-medium mb-2">Texts (one per line)</label>
            <textarea 
              x-model="texts" 
              rows="3"
              class="w-full px-3 py-2 border rounded-lg"
              placeholder="Enter texts, one per line"
              x-on:input="texts = $event.target.value.split('\n').filter(t => t.trim())"
            ></textarea>
          </div>

          <div class="p-8 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg text-center min-h-[120px] flex items-center justify-center">
            <div class="text-2xl font-bold text-white" :key="key">
              Demo: <span 
                x-data="{
                  textArray: texts,
                  textArrayIndex: 0,
                  charIndex: 0,
                  pauseEnd: pauseEnd,
                  pauseStart: pauseStart,
                  typeSpeed: typeSpeed,
                  deleteSpeed: deleteSpeed,
                  cursorSpeed: 500,
                  cursorChar: cursorChar,
                  text: '',
                  cursor: true,
                  
                  typeText() {
                    this.text = this.textArray[this.textArrayIndex].substring(0, this.charIndex);
                    this.charIndex++;
                    
                    if (this.charIndex === this.textArray[this.textArrayIndex].length + 1) {
                      this.charIndex = this.textArray[this.textArrayIndex].length;
                      setTimeout(() => this.deleteText(), this.pauseEnd);
                    } else {
                      setTimeout(() => this.typeText(), this.typeSpeed);
                    }
                  },
                  
                  deleteText() {
                    this.text = this.textArray[this.textArrayIndex].substring(0, this.charIndex);
                    this.charIndex--;
                    
                    if (this.charIndex === -1) {
                      this.charIndex = 0;
                      this.textArrayIndex++;
                      
                      if (this.textArrayIndex >= this.textArray.length) {
                        this.textArrayIndex = 0;
                      }
                      
                      setTimeout(() => this.typeText(), this.pauseStart);
                    } else {
                      setTimeout(() => this.deleteText(), this.deleteSpeed);
                    }
                  },
                  
                  blinkCursor() {
                    this.cursor = !this.cursor;
                    setTimeout(() => this.blinkCursor(), this.cursorSpeed);
                  }
                }"
                x-init="
                  setTimeout(() => typeText(), pauseStart);
                  blinkCursor();
                "
                class="text-cyan-400"
              >
                <span x-text="text"></span><span x-show="cursor" x-text="cursorChar" class="animate-pulse"></span>
              </span>
            </div>
          </div>

          <div class="mt-4 text-sm text-gray-600 text-center">
            <p><strong>Current Settings:</strong> 
              Type: <span x-text="typeSpeed"></span>ms, 
              Delete: <span x-text="deleteSpeed"></span>ms, 
              Pause: <span x-text="pauseEnd"></span>ms,
              Cursor: "<span x-text="cursorChar"></span>"
            </p>
          </div>
        </div>
      </div>
    </Card>

    <!-- Real-world Examples -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Real-world Examples</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Hero Section</h3>
            <div class="p-8 bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-lg text-center">
              <div class="max-w-2xl mx-auto">
                <h1 class="text-4xl font-bold text-white mb-4">
                  Transform Your Business with
                </h1>
                <div class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 mb-6">
                  <TypingEffect 
                    texts={[
                      "Artificial Intelligence",
                      "Machine Learning", 
                      "Data Analytics",
                      "Cloud Solutions",
                      "Digital Innovation"
                    ]} 
                    typeSpeed={120}
                    pauseEnd={3000}
                    cursorChar="▌"
                  />
                </div>
                <p class="text-xl text-gray-300">
                  Join thousands of companies already leveraging our cutting-edge technology
                </p>
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Status Dashboard</h3>
            <div class="p-6 bg-gray-900 rounded-lg">
              <div class="font-mono text-green-400">
                <div class="mb-2">$ npm run build</div>
                <div class="mb-2">Building production bundle...</div>
                <div class="mb-2">✓ Dependencies resolved</div>
                <div class="mb-2">✓ TypeScript compiled</div>
                <div class="mb-4">✓ Assets optimized</div>
                <div class="text-white">
                  Status: <TypingEffect 
                    texts={[
                      "Compiling...",
                      "Testing...", 
                      "Optimizing...",
                      "Deploying...",
                      "✓ Build Complete!"
                    ]} 
                    typeSpeed={80}
                    pauseEnd={1500}
                    cursorChar="█"
                    class="text-cyan-400"
                  />
                </div>
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Loading Messages</h3>
            <div class="p-6 bg-blue-50 rounded-lg text-center">
              <div class="text-lg text-blue-900">
                <TypingEffect 
                  texts={[
                    "Loading your dashboard...",
                    "Fetching latest data...", 
                    "Preparing your workspace...",
                    "Almost ready...",
                    "Welcome back! 👋"
                  ]} 
                  typeSpeed={60}
                  pauseEnd={2000}
                  cursorChar="⏳"
                  class="text-blue-700"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Status Summary -->
    <Card>
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Test Results</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Text cycling</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Speed controls</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Custom cursors</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Alpine.js integration</p>
          </div>
        </div>
      </div>
    </Card>
  </main>
</Layout>