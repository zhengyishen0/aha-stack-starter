---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/pine/Card.astro';
import Button from '../../components/pine/Button.astro';
import Badge from '../../components/pine/Badge.astro';
import RetroGrid from '../../components/pine/RetroGrid.astro';
---

<Layout title="RetroGrid Component Test">
  <main class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold mb-4">RetroGrid Component Test</h1>
      <div class="flex justify-center gap-2 mb-6">
        <Button href="/test" variant="outline" color="neutral">← Back to Test Suite</Button>
        <Button href="/test/all" variant="ghost" color="neutral">View All</Button>
      </div>
    </div>

    <!-- Basic Examples -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Basic Examples</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Default Grid (60° angle)</h3>
            <RetroGrid class="h-64 rounded-lg">
              <div class="flex items-center justify-center h-full">
                <div class="text-center text-white">
                  <h2 class="text-4xl font-bold mb-2">Retro Grid</h2>
                  <p class="text-xl opacity-80">Cyberpunk Aesthetic</p>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">With Dark Background</h3>
            <div class="bg-gray-900 rounded-lg p-1">
              <RetroGrid class="h-64 rounded-lg">
                <div class="flex items-center justify-center h-full">
                  <div class="text-center text-white">
                    <h2 class="text-3xl font-bold mb-2 text-cyan-400">NEON CITY</h2>
                    <p class="text-lg text-purple-300">Future is Now</p>
                  </div>
                </div>
              </RetroGrid>
            </div>
          </div>
        </div>
      </div>
    </Card>

    <!-- Angle Variations -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Angle Variations</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Shallow Angle (30°)</h3>
            <RetroGrid angle={30} class="h-48 rounded-lg bg-gradient-to-br from-blue-900 to-purple-900">
              <div class="flex items-center justify-center h-full">
                <div class="text-center text-white">
                  <h3 class="text-2xl font-bold">30° Grid</h3>
                  <p class="text-sm opacity-80">Subtle perspective</p>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Medium Angle (45°)</h3>
            <RetroGrid angle={45} class="h-48 rounded-lg bg-gradient-to-br from-purple-900 to-pink-900">
              <div class="flex items-center justify-center h-full">
                <div class="text-center text-white">
                  <h3 class="text-2xl font-bold">45° Grid</h3>
                  <p class="text-sm opacity-80">Balanced view</p>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Default Angle (60°)</h3>
            <RetroGrid angle={60} class="h-48 rounded-lg bg-gradient-to-br from-green-900 to-blue-900">
              <div class="flex items-center justify-center h-full">
                <div class="text-center text-white">
                  <h3 class="text-2xl font-bold">60° Grid</h3>
                  <p class="text-sm opacity-80">Classic retro</p>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Steep Angle (75°)</h3>
            <RetroGrid angle={75} class="h-48 rounded-lg bg-gradient-to-br from-red-900 to-orange-900">
              <div class="flex items-center justify-center h-full">
                <div class="text-center text-white">
                  <h3 class="text-2xl font-bold">75° Grid</h3>
                  <p class="text-sm opacity-80">Deep perspective</p>
                </div>
              </div>
            </RetroGrid>
          </div>
        </div>
      </div>
    </Card>

    <!-- Content Overlay Examples -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Content Overlay Examples</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-3">Hero Section</h3>
            <RetroGrid class="h-80 rounded-lg bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900">
              <div class="flex flex-col items-center justify-center h-full text-center px-8">
                <h1 class="text-5xl font-bold text-white mb-4 tracking-wider">
                  CYBER<span class="text-cyan-400">SPACE</span>
                </h1>
                <p class="text-xl text-gray-300 mb-8 max-w-2xl">
                  Enter the digital realm where technology meets imagination
                </p>
                <div class="flex gap-4">
                  <Button variant="solid" class="bg-cyan-500 hover:bg-cyan-400 text-black font-bold px-8 py-3">
                    Enter Matrix
                  </Button>
                  <Button variant="outline" class="border-cyan-400 text-cyan-400 hover:bg-cyan-400 hover:text-black px-8 py-3">
                    Learn More
                  </Button>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Dashboard Interface</h3>
            <RetroGrid angle={45} class="h-64 rounded-lg bg-black">
              <div class="p-8 h-full">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 h-full">
                  <div class="bg-black bg-opacity-50 backdrop-blur-sm border border-cyan-500 rounded-lg p-4">
                    <h4 class="text-cyan-400 font-bold mb-2">SYSTEM STATUS</h4>
                    <div class="text-green-400 font-mono text-sm">
                      <div>CPU: 45%</div>
                      <div>RAM: 67%</div>
                      <div>DISK: 23%</div>
                    </div>
                  </div>
                  <div class="bg-black bg-opacity-50 backdrop-blur-sm border border-purple-500 rounded-lg p-4">
                    <h4 class="text-purple-400 font-bold mb-2">NETWORK</h4>
                    <div class="text-yellow-400 font-mono text-sm">
                      <div>UP: 12.5 MB/s</div>
                      <div>DOWN: 45.2 MB/s</div>
                      <div>PING: 8ms</div>
                    </div>
                  </div>
                  <div class="bg-black bg-opacity-50 backdrop-blur-sm border border-red-500 rounded-lg p-4">
                    <h4 class="text-red-400 font-bold mb-2">SECURITY</h4>
                    <div class="text-orange-400 font-mono text-sm">
                      <div>FIREWALL: ON</div>
                      <div>VPN: ACTIVE</div>
                      <div>THREATS: 0</div>
                    </div>
                  </div>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Gaming Interface</h3>
            <RetroGrid angle={70} class="h-72 rounded-lg bg-gradient-to-b from-purple-900 to-black">
              <div class="flex items-center justify-center h-full">
                <div class="text-center">
                  <div class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 mb-6 font-mono">
                    LEVEL 42
                  </div>
                  <div class="bg-black bg-opacity-70 rounded-lg p-6 border border-purple-500">
                    <div class="grid grid-cols-2 gap-4 text-white font-mono">
                      <div>
                        <div class="text-cyan-400">SCORE</div>
                        <div class="text-2xl">1,337,420</div>
                      </div>
                      <div>
                        <div class="text-pink-400">LIVES</div>
                        <div class="text-2xl">❤️ ❤️ ❤️</div>
                      </div>
                      <div>
                        <div class="text-yellow-400">ENERGY</div>
                        <div class="text-2xl">███████░░░</div>
                      </div>
                      <div>
                        <div class="text-green-400">COMBO</div>
                        <div class="text-2xl">x15</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </RetroGrid>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-3">Product Showcase</h3>
            <RetroGrid angle={55} class="h-64 rounded-lg bg-gradient-to-tr from-indigo-900 via-purple-800 to-pink-800">
              <div class="flex items-center justify-between h-full px-12">
                <div class="text-white">
                  <h2 class="text-4xl font-bold mb-4">NeoTech <span class="text-cyan-400">Pro</span></h2>
                  <p class="text-lg text-gray-300 mb-6 max-w-md">
                    Advanced quantum computing interface with neural network integration
                  </p>
                  <div class="flex items-center gap-4">
                    <Badge class="bg-cyan-500 text-black">AI Powered</Badge>
                    <Badge class="bg-purple-500 text-white">Quantum Ready</Badge>
                    <Badge class="bg-pink-500 text-white">Neural Link</Badge>
                  </div>
                </div>
                <div class="text-center">
                  <div class="w-32 h-32 bg-gradient-to-br from-cyan-400 to-purple-500 rounded-lg flex items-center justify-center mb-4">
                    <span class="text-4xl">🚀</span>
                  </div>
                  <Button variant="solid" class="bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-bold">
                    Launch App
                  </Button>
                </div>
              </div>
            </RetroGrid>
          </div>
        </div>
      </div>
    </Card>

    <!-- Interactive Controls -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Interactive Controls</h2>
        <div x-data="{ 
          angle: 60,
          bgType: 'gradient1',
          content: 'simple'
        }">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div>
              <label class="block text-sm font-medium mb-2">Grid Angle: <span x-text="angle"></span>°</label>
              <input 
                x-model.number="angle" 
                type="range" 
                min="15" 
                max="85" 
                step="5"
                class="w-full"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Background</label>
              <select x-model="bgType" class="w-full px-3 py-2 border rounded-lg">
                <option value="gradient1">Blue to Purple</option>
                <option value="gradient2">Green to Blue</option>
                <option value="gradient3">Red to Orange</option>
                <option value="gradient4">Purple to Pink</option>
                <option value="dark">Pure Black</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Content Type</label>
              <select x-model="content" class="w-full px-3 py-2 border rounded-lg">
                <option value="simple">Simple Text</option>
                <option value="hero">Hero Section</option>
                <option value="stats">Statistics</option>
                <option value="logo">Logo Display</option>
              </select>
            </div>
          </div>

          <div 
            :class="{
              'bg-gradient-to-br from-blue-900 to-purple-900': bgType === 'gradient1',
              'bg-gradient-to-br from-green-900 to-blue-900': bgType === 'gradient2',
              'bg-gradient-to-br from-red-900 to-orange-900': bgType === 'gradient3',
              'bg-gradient-to-br from-purple-900 to-pink-900': bgType === 'gradient4',
              'bg-black': bgType === 'dark'
            }"
            class="rounded-lg p-1"
          >
            <div 
              x-data="{angle: angle}"
              x-init="$watch('$parent.angle', value => angle = value)"
              class="relative overflow-hidden h-80 rounded-lg"
            >
              <!-- Grid background -->
              <div 
                class="absolute inset-0 opacity-30"
                :style="`transform: perspective(400px) rotateX(${angle}deg)`"
              >
                <!-- Horizontal lines -->
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-gray-500 to-transparent animate-grid-move">
                  <div class="h-full bg-grid-pattern"></div>
                </div>
                
                <!-- Vertical lines -->
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-gray-500 to-transparent animate-grid-move-vertical">
                  <div class="w-full bg-grid-pattern-vertical"></div>
                </div>
              </div>
              
              <!-- Content overlay -->
              <div class="relative z-10 h-full">
                <!-- Simple Text -->
                <div x-show="content === 'simple'" class="flex items-center justify-center h-full">
                  <div class="text-center text-white">
                    <h2 class="text-4xl font-bold mb-2">Interactive Grid</h2>
                    <p class="text-xl opacity-80" x-text="`Angle: ${angle}°`"></p>
                  </div>
                </div>

                <!-- Hero Section -->
                <div x-show="content === 'hero'" class="flex flex-col items-center justify-center h-full text-center px-8">
                  <h1 class="text-5xl font-bold text-white mb-4">
                    RETRO<span class="text-cyan-400">GRID</span>
                  </h1>
                  <p class="text-lg text-gray-300 mb-6">
                    Dynamic cyberpunk backgrounds for your projects
                  </p>
                  <Button variant="solid" class="bg-cyan-500 hover:bg-cyan-400 text-black font-bold">
                    Get Started
                  </Button>
                </div>

                <!-- Statistics -->
                <div x-show="content === 'stats'" class="flex items-center justify-center h-full p-8">
                  <div class="grid grid-cols-2 gap-8 text-center text-white">
                    <div>
                      <div class="text-4xl font-bold text-cyan-400 mb-2">99.9%</div>
                      <div class="text-lg">Uptime</div>
                    </div>
                    <div>
                      <div class="text-4xl font-bold text-purple-400 mb-2">24/7</div>
                      <div class="text-lg">Support</div>
                    </div>
                    <div>
                      <div class="text-4xl font-bold text-green-400 mb-2">1M+</div>
                      <div class="text-lg">Users</div>
                    </div>
                    <div>
                      <div class="text-4xl font-bold text-pink-400 mb-2">∞</div>
                      <div class="text-lg">Possibilities</div>
                    </div>
                  </div>
                </div>

                <!-- Logo Display -->
                <div x-show="content === 'logo'" class="flex items-center justify-center h-full">
                  <div class="text-center">
                    <div class="w-24 h-24 bg-gradient-to-br from-cyan-400 to-purple-500 rounded-full flex items-center justify-center mb-6 mx-auto">
                      <span class="text-3xl">🎯</span>
                    </div>
                    <h2 class="text-3xl font-bold text-white mb-2">PINE UI</h2>
                    <p class="text-lg text-gray-300">Modern Component Library</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="mt-4 text-sm text-gray-600 text-center">
            <p><strong>Current Settings:</strong> 
              Angle: <span x-text="angle"></span>°, 
              Background: <span x-text="bgType"></span>, 
              Content: <span x-text="content"></span>
            </p>
          </div>
        </div>
      </div>
    </Card>

    <!-- Design Tips -->
    <Card class="mb-8">
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Design Tips & Usage</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-blue-50 rounded-lg p-4">
            <h3 class="font-semibold text-blue-900 mb-2">🎨 Visual Design</h3>
            <ul class="text-sm text-blue-800 space-y-1">
              <li>• Use darker backgrounds for better grid visibility</li>
              <li>• Combine with gradients for depth</li>
              <li>• Consider contrast with overlay content</li>
              <li>• 45-60° angles work best for most designs</li>
            </ul>
          </div>
          
          <div class="bg-green-50 rounded-lg p-4">
            <h3 class="font-semibold text-green-900 mb-2">⚡ Performance</h3>
            <ul class="text-sm text-green-800 space-y-1">
              <li>• Pure CSS animations for smooth performance</li>
              <li>• No external dependencies required</li>
              <li>• Lightweight and responsive</li>
              <li>• Works well with Alpine.js reactivity</li>
            </ul>
          </div>
          
          <div class="bg-purple-50 rounded-lg p-4">
            <h3 class="font-semibold text-purple-900 mb-2">🎯 Use Cases</h3>
            <ul class="text-sm text-purple-800 space-y-1">
              <li>• Hero sections and landing pages</li>
              <li>• Gaming and tech interfaces</li>
              <li>• Dashboard backgrounds</li>
              <li>• Cyberpunk/retro themed designs</li>
            </ul>
          </div>
          
          <div class="bg-orange-50 rounded-lg p-4">
            <h3 class="font-semibold text-orange-900 mb-2">🛠️ Customization</h3>
            <ul class="text-sm text-orange-800 space-y-1">
              <li>• Adjust angle for different perspectives</li>
              <li>• Layer with gradients and colors</li>
              <li>• Combine with backdrop-blur effects</li>
              <li>• Add custom animations if needed</li>
            </ul>
          </div>
        </div>
      </div>
    </Card>

    <!-- Status Summary -->
    <Card>
      <div class="p-6">
        <h2 class="text-2xl font-bold mb-4">Test Results</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Grid animations</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Angle control</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">Content overlay</p>
          </div>
          <div class="text-center p-4 bg-green-50 rounded-lg">
            <Badge color="green" class="mb-2">✓ Working</Badge>
            <p class="text-sm">CSS performance</p>
          </div>
        </div>
      </div>
    </Card>
  </main>
</Layout>

<style>
.bg-grid-pattern {
  background-image: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 35px,
    rgba(255, 255, 255, 0.1) 35px,
    rgba(255, 255, 255, 0.1) 36px
  );
}

.bg-grid-pattern-vertical {
  background-image: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 35px,
    rgba(255, 255, 255, 0.1) 35px,
    rgba(255, 255, 255, 0.1) 36px
  );
}

@keyframes grid-move {
  0% { transform: translateY(0); }
  100% { transform: translateY(35px); }
}

@keyframes grid-move-vertical {
  0% { transform: translateX(0); }
  100% { transform: translateX(35px); }
}

.animate-grid-move {
  animation: grid-move 1s linear infinite;
}

.animate-grid-move-vertical {
  animation: grid-move-vertical 1s linear infinite;
}
</style>