---
import Layout from '../layouts/Layout.astro';
import Counter from '../components/alpine/Counter.astro';
import TodoList from '../components/htmx/TodoList.astro';
import { getEntry } from 'astro:content';

// Pine UI Components for better styling
import Card from '../components/pine/Card.astro';
import Badge from '../components/pine/Badge.astro';
import Alert from '../components/pine/Alert.astro';

const homeContent = await getEntry('pages', 'home');
const { Content } = await homeContent?.render() || { Content: null };
---

<Layout>
	<main class="container mx-auto px-4 py-8 max-w-4xl">
		<!-- Hero Section -->
		<div class="text-center mb-12">
			<h1 class="text-4xl font-bold mb-4">AHA Stack Demo</h1>
			<p class="text-xl text-gray-600 mb-6">
				Demonstrating Alpine.js, HTMX, and Markdown with Astro
			</p>
			<div class="flex justify-center gap-2">
				<Badge color="blue">Alpine.js</Badge>
				<Badge color="green">HTMX</Badge>
				<Badge color="purple">Markdown</Badge>
			</div>
		</div>
		
		<!-- Alpine.js Demo -->
		<Card class="mb-8">
			<div class="flex items-center gap-3 mb-4">
				<Badge color="blue">Alpine.js</Badge>
				<h2 class="text-2xl font-bold">Interactive Counter</h2>
			</div>
			<p class="text-gray-600 mb-6">Reactive counter with Alpine.js state management</p>
			<div class="bg-gray-50 p-6 rounded-lg">
				<Counter />
			</div>
		</Card>
		
		<!-- HTMX Demo -->
		<Card class="mb-8">
			<div class="flex items-center gap-3 mb-4">
				<Badge color="green">HTMX</Badge>
				<h2 class="text-2xl font-bold">Todo List</h2>
			</div>
			<p class="text-gray-600 mb-6">Dynamic todo list with HTMX server interactions</p>
			<div class="bg-gray-50 p-6 rounded-lg">
				<TodoList />
			</div>
		</Card>
		
		<!-- Markdown Demo -->
		{Content && (
			<Card class="mb-8">
				<div class="flex items-center gap-3 mb-4">
					<Badge color="purple">Markdown</Badge>
					<h2 class="text-2xl font-bold">Content from Markdown</h2>
				</div>
				<p class="text-gray-600 mb-6">Content rendered from Markdown files using Astro's content collections</p>
				<div class="prose max-w-none bg-gray-50 p-6 rounded-lg">
					<Content />
				</div>
			</Card>
		)}
		
		<!-- Info Alert -->
		<Alert variant="blue" title="About This Demo">
			This page demonstrates how Alpine.js provides client-side interactivity, HTMX enables server-side dynamic updates, 
			and Markdown provides content management - all working together seamlessly in the AHA stack.
		</Alert>
	</main>
</Layout>
