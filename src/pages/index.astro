---
import Layout from '../layouts/Layout.astro';
import { getEntry } from 'astro:content';

// UI Components for better styling
import {
    Avatar,
    Card,
    Button,
    Column,
    Grid,
    Text,
    Row,
} from '../components/ui/core';
import { Badge } from '../components/ui/effects';

// Import GitHub icon
import githubIcon from '../assets/github-icon.svg';

// Import essential styles
import '../styles/pages/home.css';

const homeContent = await getEntry('pages', 'home');
---

<Layout>
    <div
        x-data={`{ features: ${JSON.stringify(homeContent?.data?.features || [])} }`}
    >
        <main class="main-container">
            <!-- GitHub Icon in upper right -->

            <div class="github-icon">
                <Avatar
                    icon={githubIcon.src}
                    href="https://github.com/zhengyishen0/basis"
                    alt="GitHub Repository"
                    size="md"
                    variant="circle"
                />
            </div>

            <!-- Hero Section -->
            <div class="hero-section">
                <!-- Grid Background -->
                <div class="hero-background">
                    <div class="grid-pattern"></div>
                </div>
                <h1 class="hero-title">Basis</h1>
                <p class="hero-description">
                    Build on Fundamentals - A methodology for modern web
                    development using basic tools and clear boundaries
                </p>
                <Row justify="center" gap="tight" wrap class="hero-badges">
                    <Badge variant="solid" color="black" size="lg">Astro</Badge>
                    <Badge variant="solid" color="black" size="lg">Alpine</Badge
                    >
                    <Badge variant="solid" color="black" size="lg"
                        >Supabase</Badge
                    >
                </Row>
                <Row justify="center" gap="default" class="hero-buttons">
                    <Button
                        href="./todo"
                        variant="solid"
                        color="blue"
                        size="lg"
                    >
                        Demo
                    </Button>
                    <!-- <Button href="./design-system" variant="outline" color="neutral" size="lg">
					Components
				</Button> -->
                </Row>
            </div>

            <!-- Features Section -->
            <Column gap="loose" class="features-section">
                <Text as="h2" class="features-title"
                    >What Makes <span class="basis-underline">Basis</span> Different</Text
                >
                <Grid
                    columns="auto"
                    gap="default"
                    justify="center"
                    class="features-grid"
                    x-for="feature in features"
                    x-key="feature.name"
                >
                    <Card variant="elevated" class="feature-card">
                        <div class="feature-content">
                            <Badge
                                variant="solid"
                                color="black"
                                size="lg"
                                class="feature-badge"
                                x-text="feature.name"
                            />
                            <Text
                                as="h3"
                                class="feature-card-title"
                                x-text="feature.title"
                            />
                            <Text
                                as="p"
                                class="feature-card-description"
                                x-text="feature.description"
                            />
                        </div>
                    </Card>
                </Grid>
            </Column>
        </main>
    </div>
</Layout>
