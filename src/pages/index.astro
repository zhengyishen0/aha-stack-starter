---
import Layout from '../layouts/Layout.astro';
import { getEntry } from 'astro:content';

// UI Components for better styling
import { Badge } from '../components/ui/feedback';
import { Button } from '../components/ui/forms';
import { Avatar, AvatarImage, Text } from '../components/ui/display';
import { Grid, GridItem } from '../components/ui/layout';

// Import GitHub icon
import githubIconUrl from '../assets/github-icon-white.svg?url';

// Import essential styles
const homeContent = await getEntry('pages', 'home');
const pageData = JSON.stringify(homeContent?.data || []);
---

<Layout>
    <main class="min-h-screen" x-data={pageData}>
        <!-- GitHub Avatar in upper right -->
        <div class="absolute top-4 right-4 z-20">
            <Avatar
                size="default"
                href="https://github.com/zhengyishen0/basis"
                class="bg-black hover:bg-gray-800 hover:scale-110 transition-all duration-200 cursor-pointer ring-2 ring-white shadow-lg"
                aria-label="GitHub Repository"
            >
                <AvatarImage src={githubIconUrl} alt="GitHub" class="p-2" />
            </Avatar>
        </div>

        <!-- Hero Section -->
        <div
            class="text-center py-16 px-4 bg-gradient-to-br from-gray-50 via-white to-gray-100 relative overflow-hidden min-h-[60vh] flex flex-col justify-center items-center gap-4"
        >
            <Text
                variant="hero-title"
                class="mb-4 relative z-10 drop-shadow-sm tracking-tight"
            >
                <span class="relative group">
                    Basis
                    <span
                        class="absolute bottom-[-8px] left-[-5%] w-[110%] h-[5px] bg-black rounded-full origin-left animate-underline-grow group-hover:animate-underline-grow-hover"
                    ></span>
                </span>
            </Text>
            <Text
                variant="hero-description"
                class="mb-6 max-w-2xl mx-auto relative z-10"
            >
                Build on Fundamentals - A methodology for modern web development
                using basic tools and clear boundaries
            </Text>
            <div class="flex justify-center gap-2 flex-wrap mb-6">
                <Badge size="lg" color="black">Astro</Badge>
                <Badge size="lg" color="black">Alpine</Badge>
                <Badge size="lg" color="black">Supabase</Badge>
            </div>
            <div class="flex justify-center gap-4">
                <Button href="./todo" size="lg"> Demo </Button>
            </div>
        </div>

        <!-- Features Section -->
        <div class="max-w-7xl mx-auto py-16 px-4 bg-white flex flex-col gap-6">
            <Text
                variant="section-title"
                class="text-center mb-8 tracking-tight"
            >
                What Makes <span class="relative font-extrabold">
                    <span class="relative group">
                        Basis
                        <span
                            class="absolute bottom-[-2px] left-[-8%] w-[116%] h-[3px] bg-black rounded-full origin-left animate-underline-grow-delayed group-hover:animate-underline-grow-hover"
                        ></span>
                    </span>
                </span> Different
            </Text>
            <Grid columns="3" class="max-w-6xl mx-auto">
                <GridItem
                    variant="card"
                    x-for="feature in features"
                    x-key="feature.name"
                    padding="xl"
                    gap="sm"
                    class="transform hover:scale-105 transition-transform duration-200"
                >
                    <Badge
                        variant="default"
                        color="black"
                        size="lg"
                        class="mb-2 inline-block"
                        x-text="feature.name"
                    />
                    <Text variant="feature-title" x-text="feature.title" />
                    <Text
                        variant="feature-description"
                        x-text="feature.description"
                    />
                </GridItem>
            </Grid>
        </div>
    </main>
</Layout>
