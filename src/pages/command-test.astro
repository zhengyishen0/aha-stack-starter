---
import Layout from '../layouts/Layout.astro';
import Command from '../components/pine/Command.astro';
import Button from '../components/pine/Button.astro';
---

<Layout title="Command Component Test">
  <main class="p-8">
    <h1 class="text-3xl font-bold mb-6">Command Component Test</h1>
    
    <div class="max-w-lg">
      <Command placeholder="Search for commands..." showShortcuts={true}>
        <div slot="trigger">
          <Button variant="outline">Open Command Palette (⌘K)</Button>
        </div>
        
        <div slot="commands">
          <div data-group="Navigation">
            <div data-command="home" data-keywords="home dashboard main page index" data-shortcut="⌘H">
              <span>Go to Home</span>
            </div>
            <div data-command="about" data-keywords="about us company info" data-shortcut="⌘A">
              <span>About Page</span>
            </div>
            <div data-command="contact" data-keywords="contact us email phone" data-shortcut="⌘C">
              <span>Contact Page</span>
            </div>
          </div>
          
          <div data-group="Actions">
            <div data-command="create" data-keywords="create new add post article blog" data-shortcut="⌘N">
              <span>Create New Post</span>
            </div>
            <div data-command="save" data-keywords="save document file export" data-shortcut="⌘S">
              <span>Save Document</span>
            </div>
            <div data-command="search" data-keywords="search find look query" data-shortcut="⌘F">
              <span>Global Search</span>
            </div>
          </div>
          
          <div data-group="Settings">
            <div data-command="preferences" data-keywords="preferences settings config options" data-shortcut="⌘,">
              <span>Preferences</span>
            </div>
            <div data-command="theme" data-keywords="theme dark light mode appearance" data-shortcut="⌘T">
              <span>Toggle Theme</span>
            </div>
          </div>
        </div>
      </Command>
    </div>

    <div class="mt-8 space-y-4">
      <p class="text-gray-600">Test the command palette by:</p>
      <ul class="list-disc list-inside space-y-2 text-sm text-gray-600">
        <li>Clicking the button above</li>
        <li>Using the keyboard shortcut ⌘K (or Ctrl+K)</li>
        <li>Type to search commands</li>
        <li>Use arrow keys to navigate</li>
        <li>Press Enter to select</li>
        <li>Press Escape to close</li>
      </ul>
    </div>
  </main>

  <script>
    // Listen for command selection events
    document.addEventListener('command-selected', (event) => {
      console.log('Command selected:', event.detail);
      alert(`Selected command: ${event.detail.text} (${event.detail.id})`);
    });
  </script>
</Layout>